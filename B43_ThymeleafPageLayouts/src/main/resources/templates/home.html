<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >

<head>
  <th:block th:insert="fragments/header :: head">

  <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet" media="screen" />
  <link href="../static/css/custom.css" th:href="@{/css/custom.css}" rel="stylesheet" media="screen" />
</head>

<body>
  <header th:replace="~{fragments/header :: header}">Header</header>

  <main role="main">
    <div class="container">
      <div class="text-center">
  
        <h1>Thymeleaf Layouts</h1>

        <p>
          This is a home page. Anybody can see it. Authentication is not required.
        </p>
      </div>
    </div>
  </main>

<!--
  <h2>Welcome</h2>
  <p>Spring Security Thymeleaf tutorial</p>
  <div sec:authorize="hasRole('USER')">Text visible to user.</div>
  <div sec:authorize="hasRole('ADMIN')">Text visible to admin.</div>
  <div sec:authorize="isAuthenticated()">
    Text visible only to authenticated users.
  </div>
  Authenticated username:
  <div sec:authentication="name"></div>

  <footer th:if="${#request.isUserInRole('ADMIN')}" th:insert="fragments/footer :: footer-admin" class="footer">
    &copy; 2017 The Static Templates
  </footer>
  <footer th:unless="${#request.isUserInRole('ADMIN')}" th:insert="fragments/footer :: footer" class="footer">
    &copy; 2017 The Static Templates
  </footer>

  <div th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
    This will only be displayed if authenticated user has role ROLE_ADMIN.
  </div>
  <div th:unless="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
    This will only be displayed if user does not have role ROLE_ADMIN.
  </div>

  <div th:insert="fragments/footer :: ${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? 'footer-admin' : 'footer-user'">
    &copy; 2017 The Static Templates
  </div>
-->

  <footer th:replace="fragments/footer :: ${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? 'footer-admin' : 'footer-user'">
    &copy; 2017 The Static Templates
  </footer>
</body>

</html>
